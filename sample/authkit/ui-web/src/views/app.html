'use strict';

import dispatcher from '../dispatcher'

<app>
  <navbar
    username="{ user.formatted_name }"
    authorized="{ user.authorized }">
  </navbar>
  <dlg-login></dlg-login>
  <profile user="{ user }"></profile>

  <script>
    let self = this;
    self.user = {login: '', authorized: false};
    dispatcher.on(dispatcher.PROFILE_CHANGED, (user) => {
        self.user = user;
        self.update();
    });
  </script>
</app>
